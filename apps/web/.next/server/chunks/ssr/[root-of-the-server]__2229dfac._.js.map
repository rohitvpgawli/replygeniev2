{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/lib/payments/stripe.ts"],"sourcesContent":["import Stripe from 'stripe';\nimport { redirect } from 'next/navigation';\nimport { Team } from '@/lib/db/schema';\nimport {\n  getTeamByStripeCustomerId,\n  getUser,\n  updateTeamSubscription\n} from '@/lib/db/queries';\n\nexport const stripe = new Stripe(process.env.STRIPE_SECRET_KEY!, {\n  apiVersion: '2025-08-27.basil'\n});\n\nexport async function createCheckoutSession({\n  team,\n  priceId\n}: {\n  team: Team | null;\n  priceId: string;\n}) {\n  const user = await getUser();\n\n  if (!team || !user) {\n    redirect(`/sign-up?redirect=checkout&priceId=${priceId}`);\n  }\n\n  const session = await stripe.checkout.sessions.create({\n    payment_method_types: ['card'],\n    line_items: [\n      {\n        price: priceId,\n        quantity: 1\n      }\n    ],\n    mode: 'subscription',\n    success_url: `${process.env.BASE_URL}/api/stripe/checkout?session_id={CHECKOUT_SESSION_ID}`,\n    cancel_url: `${process.env.BASE_URL}/pricing`,\n    customer: team.stripeCustomerId || undefined,\n    client_reference_id: user.id.toString(),\n    allow_promotion_codes: true,\n    subscription_data: {\n      trial_period_days: 14\n    }\n  });\n\n  redirect(session.url!);\n}\n\nexport async function createCustomerPortalSession(team: Team) {\n  if (!team.stripeCustomerId || !team.stripeProductId) {\n    redirect('/pricing');\n  }\n\n  let configuration: Stripe.BillingPortal.Configuration;\n  const configurations = await stripe.billingPortal.configurations.list();\n\n  if (configurations.data.length > 0) {\n    configuration = configurations.data[0];\n  } else {\n    const product = await stripe.products.retrieve(team.stripeProductId);\n    if (!product.active) {\n      throw new Error(\"Team's product is not active in Stripe\");\n    }\n\n    const prices = await stripe.prices.list({\n      product: product.id,\n      active: true\n    });\n    if (prices.data.length === 0) {\n      throw new Error(\"No active prices found for the team's product\");\n    }\n\n    configuration = await stripe.billingPortal.configurations.create({\n      business_profile: {\n        headline: 'Manage your subscription'\n      },\n      features: {\n        subscription_update: {\n          enabled: true,\n          default_allowed_updates: ['price', 'quantity', 'promotion_code'],\n          proration_behavior: 'create_prorations',\n          products: [\n            {\n              product: product.id,\n              prices: prices.data.map((price) => price.id)\n            }\n          ]\n        },\n        subscription_cancel: {\n          enabled: true,\n          mode: 'at_period_end',\n          cancellation_reason: {\n            enabled: true,\n            options: [\n              'too_expensive',\n              'missing_features',\n              'switched_service',\n              'unused',\n              'other'\n            ]\n          }\n        },\n        payment_method_update: {\n          enabled: true\n        }\n      }\n    });\n  }\n\n  return stripe.billingPortal.sessions.create({\n    customer: team.stripeCustomerId,\n    return_url: `${process.env.BASE_URL}/dashboard`,\n    configuration: configuration.id\n  });\n}\n\nexport async function handleSubscriptionChange(\n  subscription: Stripe.Subscription\n) {\n  const customerId = subscription.customer as string;\n  const subscriptionId = subscription.id;\n  const status = subscription.status;\n\n  const team = await getTeamByStripeCustomerId(customerId);\n\n  if (!team) {\n    console.error('Team not found for Stripe customer:', customerId);\n    return;\n  }\n\n  if (status === 'active' || status === 'trialing') {\n    const plan = subscription.items.data[0]?.plan;\n    await updateTeamSubscription(team.id, {\n      stripeSubscriptionId: subscriptionId,\n      stripeProductId: plan?.product as string,\n      planName: (plan?.product as Stripe.Product).name,\n      subscriptionStatus: status\n    });\n  } else if (status === 'canceled' || status === 'unpaid') {\n    await updateTeamSubscription(team.id, {\n      stripeSubscriptionId: null,\n      stripeProductId: null,\n      planName: null,\n      subscriptionStatus: status\n    });\n  }\n}\n\nexport async function getStripePrices() {\n  const prices = await stripe.prices.list({\n    expand: ['data.product'],\n    active: true,\n    type: 'recurring'\n  });\n\n  return prices.data.map((price) => ({\n    id: price.id,\n    productId:\n      typeof price.product === 'string' ? price.product : price.product.id,\n    unitAmount: price.unit_amount,\n    currency: price.currency,\n    interval: price.recurring?.interval,\n    trialPeriodDays: price.recurring?.trial_period_days\n  }));\n}\n\nexport async function getStripeProducts() {\n  const products = await stripe.products.list({\n    active: true,\n    expand: ['data.default_price']\n  });\n\n  return products.data.map((product) => ({\n    id: product.id,\n    name: product.name,\n    description: product.description,\n    defaultPriceId:\n      typeof product.default_price === 'string'\n        ? product.default_price\n        : product.default_price?.id\n  }));\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AAAA;AAEA;;;;AAMO,MAAM,SAAS,IAAI,6OAAA,CAAA,UAAM,CAAC,QAAQ,GAAG,CAAC,iBAAiB,EAAG;IAC/D,YAAY;AACd;AAEO,eAAe,sBAAsB,EAC1C,IAAI,EACJ,OAAO,EAIR;IACC,MAAM,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,UAAO,AAAD;IAEzB,IAAI,CAAC,QAAQ,CAAC,MAAM;QAClB,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE,CAAC,mCAAmC,EAAE,SAAS;IAC1D;IAEA,MAAM,UAAU,MAAM,OAAO,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;QACpD,sBAAsB;YAAC;SAAO;QAC9B,YAAY;YACV;gBACE,OAAO;gBACP,UAAU;YACZ;SACD;QACD,MAAM;QACN,aAAa,GAAG,QAAQ,GAAG,CAAC,QAAQ,CAAC,qDAAqD,CAAC;QAC3F,YAAY,GAAG,QAAQ,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC;QAC7C,UAAU,KAAK,gBAAgB,IAAI;QACnC,qBAAqB,KAAK,EAAE,CAAC,QAAQ;QACrC,uBAAuB;QACvB,mBAAmB;YACjB,mBAAmB;QACrB;IACF;IAEA,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE,QAAQ,GAAG;AACtB;AAEO,eAAe,4BAA4B,IAAU;IAC1D,IAAI,CAAC,KAAK,gBAAgB,IAAI,CAAC,KAAK,eAAe,EAAE;QACnD,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IAEA,IAAI;IACJ,MAAM,iBAAiB,MAAM,OAAO,aAAa,CAAC,cAAc,CAAC,IAAI;IAErE,IAAI,eAAe,IAAI,CAAC,MAAM,GAAG,GAAG;QAClC,gBAAgB,eAAe,IAAI,CAAC,EAAE;IACxC,OAAO;QACL,MAAM,UAAU,MAAM,OAAO,QAAQ,CAAC,QAAQ,CAAC,KAAK,eAAe;QACnE,IAAI,CAAC,QAAQ,MAAM,EAAE;YACnB,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,SAAS,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;YACtC,SAAS,QAAQ,EAAE;YACnB,QAAQ;QACV;QACA,IAAI,OAAO,IAAI,CAAC,MAAM,KAAK,GAAG;YAC5B,MAAM,IAAI,MAAM;QAClB;QAEA,gBAAgB,MAAM,OAAO,aAAa,CAAC,cAAc,CAAC,MAAM,CAAC;YAC/D,kBAAkB;gBAChB,UAAU;YACZ;YACA,UAAU;gBACR,qBAAqB;oBACnB,SAAS;oBACT,yBAAyB;wBAAC;wBAAS;wBAAY;qBAAiB;oBAChE,oBAAoB;oBACpB,UAAU;wBACR;4BACE,SAAS,QAAQ,EAAE;4BACnB,QAAQ,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,QAAU,MAAM,EAAE;wBAC7C;qBACD;gBACH;gBACA,qBAAqB;oBACnB,SAAS;oBACT,MAAM;oBACN,qBAAqB;wBACnB,SAAS;wBACT,SAAS;4BACP;4BACA;4BACA;4BACA;4BACA;yBACD;oBACH;gBACF;gBACA,uBAAuB;oBACrB,SAAS;gBACX;YACF;QACF;IACF;IAEA,OAAO,OAAO,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC;QAC1C,UAAU,KAAK,gBAAgB;QAC/B,YAAY,GAAG,QAAQ,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC;QAC/C,eAAe,cAAc,EAAE;IACjC;AACF;AAEO,eAAe,yBACpB,YAAiC;IAEjC,MAAM,aAAa,aAAa,QAAQ;IACxC,MAAM,iBAAiB,aAAa,EAAE;IACtC,MAAM,SAAS,aAAa,MAAM;IAElC,MAAM,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,4BAAyB,AAAD,EAAE;IAE7C,IAAI,CAAC,MAAM;QACT,QAAQ,KAAK,CAAC,uCAAuC;QACrD;IACF;IAEA,IAAI,WAAW,YAAY,WAAW,YAAY;QAChD,MAAM,OAAO,aAAa,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE;QACzC,MAAM,CAAA,GAAA,mIAAA,CAAA,yBAAsB,AAAD,EAAE,KAAK,EAAE,EAAE;YACpC,sBAAsB;YACtB,iBAAiB,MAAM;YACvB,UAAU,CAAC,MAAM,OAAyB,EAAE,IAAI;YAChD,oBAAoB;QACtB;IACF,OAAO,IAAI,WAAW,cAAc,WAAW,UAAU;QACvD,MAAM,CAAA,GAAA,mIAAA,CAAA,yBAAsB,AAAD,EAAE,KAAK,EAAE,EAAE;YACpC,sBAAsB;YACtB,iBAAiB;YACjB,UAAU;YACV,oBAAoB;QACtB;IACF;AACF;AAEO,eAAe;IACpB,MAAM,SAAS,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;QACtC,QAAQ;YAAC;SAAe;QACxB,QAAQ;QACR,MAAM;IACR;IAEA,OAAO,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,QAAU,CAAC;YACjC,IAAI,MAAM,EAAE;YACZ,WACE,OAAO,MAAM,OAAO,KAAK,WAAW,MAAM,OAAO,GAAG,MAAM,OAAO,CAAC,EAAE;YACtE,YAAY,MAAM,WAAW;YAC7B,UAAU,MAAM,QAAQ;YACxB,UAAU,MAAM,SAAS,EAAE;YAC3B,iBAAiB,MAAM,SAAS,EAAE;QACpC,CAAC;AACH;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM,OAAO,QAAQ,CAAC,IAAI,CAAC;QAC1C,QAAQ;QACR,QAAQ;YAAC;SAAqB;IAChC;IAEA,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,UAAY,CAAC;YACrC,IAAI,QAAQ,EAAE;YACd,MAAM,QAAQ,IAAI;YAClB,aAAa,QAAQ,WAAW;YAChC,gBACE,OAAO,QAAQ,aAAa,KAAK,WAC7B,QAAQ,aAAa,GACrB,QAAQ,aAAa,EAAE;QAC/B,CAAC;AACH","debugId":null}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/lib/auth/middleware.ts"],"sourcesContent":["import { z } from 'zod';\nimport { TeamDataWithMembers, User } from '@/lib/db/schema';\nimport { getTeamForUser, getUser } from '@/lib/db/queries';\nimport { redirect } from 'next/navigation';\n\nexport type ActionState = {\n  error?: string;\n  success?: string;\n  [key: string]: any; // This allows for additional properties\n};\n\ntype ValidatedActionFunction<S extends z.ZodType<any, any>, T> = (\n  data: z.infer<S>,\n  formData: FormData\n) => Promise<T>;\n\nexport function validatedAction<S extends z.ZodType<any, any>, T>(\n  schema: S,\n  action: ValidatedActionFunction<S, T>\n) {\n  return async (prevState: ActionState, formData: FormData) => {\n    const result = schema.safeParse(Object.fromEntries(formData));\n    if (!result.success) {\n      return { error: result.error.errors[0].message };\n    }\n\n    return action(result.data, formData);\n  };\n}\n\ntype ValidatedActionWithUserFunction<S extends z.ZodType<any, any>, T> = (\n  data: z.infer<S>,\n  formData: FormData,\n  user: User\n) => Promise<T>;\n\nexport function validatedActionWithUser<S extends z.ZodType<any, any>, T>(\n  schema: S,\n  action: ValidatedActionWithUserFunction<S, T>\n) {\n  return async (prevState: ActionState, formData: FormData) => {\n    const user = await getUser();\n    if (!user) {\n      throw new Error('User is not authenticated');\n    }\n\n    const result = schema.safeParse(Object.fromEntries(formData));\n    if (!result.success) {\n      return { error: result.error.errors[0].message };\n    }\n\n    return action(result.data, formData, user);\n  };\n}\n\ntype ActionWithTeamFunction<T> = (\n  formData: FormData,\n  team: TeamDataWithMembers\n) => Promise<T>;\n\nexport function withTeam<T>(action: ActionWithTeamFunction<T>) {\n  return async (formData: FormData): Promise<T> => {\n    const user = await getUser();\n    if (!user) {\n      redirect('/sign-in');\n    }\n\n    const team = await getTeamForUser();\n    if (!team) {\n      throw new Error('Team not found');\n    }\n\n    return action(formData, team);\n  };\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;;;AAaO,SAAS,gBACd,MAAS,EACT,MAAqC;IAErC,OAAO,OAAO,WAAwB;QACpC,MAAM,SAAS,OAAO,SAAS,CAAC,OAAO,WAAW,CAAC;QACnD,IAAI,CAAC,OAAO,OAAO,EAAE;YACnB,OAAO;gBAAE,OAAO,OAAO,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO;YAAC;QACjD;QAEA,OAAO,OAAO,OAAO,IAAI,EAAE;IAC7B;AACF;AAQO,SAAS,wBACd,MAAS,EACT,MAA6C;IAE7C,OAAO,OAAO,WAAwB;QACpC,MAAM,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,UAAO,AAAD;QACzB,IAAI,CAAC,MAAM;YACT,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,SAAS,OAAO,SAAS,CAAC,OAAO,WAAW,CAAC;QACnD,IAAI,CAAC,OAAO,OAAO,EAAE;YACnB,OAAO;gBAAE,OAAO,OAAO,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO;YAAC;QACjD;QAEA,OAAO,OAAO,OAAO,IAAI,EAAE,UAAU;IACvC;AACF;AAOO,SAAS,SAAY,MAAiC;IAC3D,OAAO,OAAO;QACZ,MAAM,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,UAAO,AAAD;QACzB,IAAI,CAAC,MAAM;YACT,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;QACX;QAEA,MAAM,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,iBAAc,AAAD;QAChC,IAAI,CAAC,MAAM;YACT,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,OAAO,UAAU;IAC1B;AACF","debugId":null}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/app/%28login%29/actions.ts"],"sourcesContent":["'use server';\n\nimport { z } from 'zod';\nimport { and, eq, sql } from 'drizzle-orm';\nimport { db } from '@/lib/db/drizzle';\nimport {\n  User,\n  users,\n  teams,\n  teamMembers,\n  activityLogs,\n  type NewUser,\n  type NewTeam,\n  type NewTeamMember,\n  type NewActivityLog,\n  ActivityType,\n  invitations\n} from '@/lib/db/schema';\nimport { comparePasswords, hashPassword, setSession } from '@/lib/auth/session';\nimport { redirect } from 'next/navigation';\nimport { cookies } from 'next/headers';\nimport { createCheckoutSession } from '@/lib/payments/stripe';\nimport { getUser, getUserWithTeam } from '@/lib/db/queries';\nimport {\n  validatedAction,\n  validatedActionWithUser\n} from '@/lib/auth/middleware';\n\nasync function logActivity(\n  teamId: number | null | undefined,\n  userId: number,\n  type: ActivityType,\n  ipAddress?: string\n) {\n  if (teamId === null || teamId === undefined) {\n    return;\n  }\n  const newActivity: NewActivityLog = {\n    teamId,\n    userId,\n    action: type,\n    ipAddress: ipAddress || ''\n  };\n  await db.insert(activityLogs).values(newActivity);\n}\n\nconst signInSchema = z.object({\n  email: z.string().email().min(3).max(255),\n  password: z.string().min(8).max(100)\n});\n\nexport const signIn = validatedAction(signInSchema, async (data, formData) => {\n  const { email, password } = data;\n\n  const userWithTeam = await db\n    .select({\n      user: users,\n      team: teams\n    })\n    .from(users)\n    .leftJoin(teamMembers, eq(users.id, teamMembers.userId))\n    .leftJoin(teams, eq(teamMembers.teamId, teams.id))\n    .where(eq(users.email, email))\n    .limit(1);\n\n  if (userWithTeam.length === 0) {\n    return {\n      error: 'Invalid email or password. Please try again.',\n      email,\n      password\n    };\n  }\n\n  const { user: foundUser, team: foundTeam } = userWithTeam[0];\n\n  const isPasswordValid = await comparePasswords(\n    password,\n    foundUser.passwordHash\n  );\n\n  if (!isPasswordValid) {\n    return {\n      error: 'Invalid email or password. Please try again.',\n      email,\n      password\n    };\n  }\n\n  await Promise.all([\n    setSession(foundUser),\n    logActivity(foundTeam?.id, foundUser.id, ActivityType.SIGN_IN)\n  ]);\n\n  const redirectTo = formData.get('redirect') as string | null;\n  if (redirectTo === 'checkout') {\n    const priceId = formData.get('priceId') as string;\n    return createCheckoutSession({ team: foundTeam, priceId });\n  }\n\n  redirect('/dashboard');\n});\n\nconst signUpSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(8),\n  inviteId: z.string().optional()\n});\n\nexport const signUp = validatedAction(signUpSchema, async (data, formData) => {\n  const { email, password, inviteId } = data;\n\n  const existingUser = await db\n    .select()\n    .from(users)\n    .where(eq(users.email, email))\n    .limit(1);\n\n  if (existingUser.length > 0) {\n    return {\n      error: 'Failed to create user. Please try again.',\n      email,\n      password\n    };\n  }\n\n  const passwordHash = await hashPassword(password);\n\n  const newUser: NewUser = {\n    email,\n    passwordHash,\n    role: 'owner' // Default role, will be overridden if there's an invitation\n  };\n\n  const [createdUser] = await db.insert(users).values(newUser).returning();\n\n  if (!createdUser) {\n    return {\n      error: 'Failed to create user. Please try again.',\n      email,\n      password\n    };\n  }\n\n  let teamId: number;\n  let userRole: string;\n  let createdTeam: typeof teams.$inferSelect | null = null;\n\n  if (inviteId) {\n    // Check if there's a valid invitation\n    const [invitation] = await db\n      .select()\n      .from(invitations)\n      .where(\n        and(\n          eq(invitations.id, parseInt(inviteId)),\n          eq(invitations.email, email),\n          eq(invitations.status, 'pending')\n        )\n      )\n      .limit(1);\n\n    if (invitation) {\n      teamId = invitation.teamId;\n      userRole = invitation.role;\n\n      await db\n        .update(invitations)\n        .set({ status: 'accepted' })\n        .where(eq(invitations.id, invitation.id));\n\n      await logActivity(teamId, createdUser.id, ActivityType.ACCEPT_INVITATION);\n\n      [createdTeam] = await db\n        .select()\n        .from(teams)\n        .where(eq(teams.id, teamId))\n        .limit(1);\n    } else {\n      return { error: 'Invalid or expired invitation.', email, password };\n    }\n  } else {\n    // Create a new team if there's no invitation\n    const newTeam: NewTeam = {\n      name: `${email}'s Team`\n    };\n\n    [createdTeam] = await db.insert(teams).values(newTeam).returning();\n\n    if (!createdTeam) {\n      return {\n        error: 'Failed to create team. Please try again.',\n        email,\n        password\n      };\n    }\n\n    teamId = createdTeam.id;\n    userRole = 'owner';\n\n    await logActivity(teamId, createdUser.id, ActivityType.CREATE_TEAM);\n  }\n\n  const newTeamMember: NewTeamMember = {\n    userId: createdUser.id,\n    teamId: teamId,\n    role: userRole\n  };\n\n  await Promise.all([\n    db.insert(teamMembers).values(newTeamMember),\n    logActivity(teamId, createdUser.id, ActivityType.SIGN_UP),\n    setSession(createdUser)\n  ]);\n\n  const redirectTo = formData.get('redirect') as string | null;\n  if (redirectTo === 'checkout') {\n    const priceId = formData.get('priceId') as string;\n    return createCheckoutSession({ team: createdTeam, priceId });\n  }\n\n  redirect('/dashboard');\n});\n\nexport async function signOut() {\n  const user = (await getUser()) as User;\n  const userWithTeam = await getUserWithTeam(user.id);\n  await logActivity(userWithTeam?.teamId, user.id, ActivityType.SIGN_OUT);\n  (await cookies()).delete('session');\n}\n\nconst updatePasswordSchema = z.object({\n  currentPassword: z.string().min(8).max(100),\n  newPassword: z.string().min(8).max(100),\n  confirmPassword: z.string().min(8).max(100)\n});\n\nexport const updatePassword = validatedActionWithUser(\n  updatePasswordSchema,\n  async (data, _, user) => {\n    const { currentPassword, newPassword, confirmPassword } = data;\n\n    const isPasswordValid = await comparePasswords(\n      currentPassword,\n      user.passwordHash\n    );\n\n    if (!isPasswordValid) {\n      return {\n        currentPassword,\n        newPassword,\n        confirmPassword,\n        error: 'Current password is incorrect.'\n      };\n    }\n\n    if (currentPassword === newPassword) {\n      return {\n        currentPassword,\n        newPassword,\n        confirmPassword,\n        error: 'New password must be different from the current password.'\n      };\n    }\n\n    if (confirmPassword !== newPassword) {\n      return {\n        currentPassword,\n        newPassword,\n        confirmPassword,\n        error: 'New password and confirmation password do not match.'\n      };\n    }\n\n    const newPasswordHash = await hashPassword(newPassword);\n    const userWithTeam = await getUserWithTeam(user.id);\n\n    await Promise.all([\n      db\n        .update(users)\n        .set({ passwordHash: newPasswordHash })\n        .where(eq(users.id, user.id)),\n      logActivity(userWithTeam?.teamId, user.id, ActivityType.UPDATE_PASSWORD)\n    ]);\n\n    return {\n      success: 'Password updated successfully.'\n    };\n  }\n);\n\nconst deleteAccountSchema = z.object({\n  password: z.string().min(8).max(100)\n});\n\nexport const deleteAccount = validatedActionWithUser(\n  deleteAccountSchema,\n  async (data, _, user) => {\n    const { password } = data;\n\n    const isPasswordValid = await comparePasswords(password, user.passwordHash);\n    if (!isPasswordValid) {\n      return {\n        password,\n        error: 'Incorrect password. Account deletion failed.'\n      };\n    }\n\n    const userWithTeam = await getUserWithTeam(user.id);\n\n    await logActivity(\n      userWithTeam?.teamId,\n      user.id,\n      ActivityType.DELETE_ACCOUNT\n    );\n\n    // Soft delete\n    await db\n      .update(users)\n      .set({\n        deletedAt: sql`CURRENT_TIMESTAMP`,\n        email: sql`CONCAT(email, '-', id, '-deleted')` // Ensure email uniqueness\n      })\n      .where(eq(users.id, user.id));\n\n    if (userWithTeam?.teamId) {\n      await db\n        .delete(teamMembers)\n        .where(\n          and(\n            eq(teamMembers.userId, user.id),\n            eq(teamMembers.teamId, userWithTeam.teamId)\n          )\n        );\n    }\n\n    (await cookies()).delete('session');\n    redirect('/sign-in');\n  }\n);\n\nconst updateAccountSchema = z.object({\n  name: z.string().min(1, 'Name is required').max(100),\n  email: z.string().email('Invalid email address')\n});\n\nexport const updateAccount = validatedActionWithUser(\n  updateAccountSchema,\n  async (data, _, user) => {\n    const { name, email } = data;\n    const userWithTeam = await getUserWithTeam(user.id);\n\n    await Promise.all([\n      db.update(users).set({ name, email }).where(eq(users.id, user.id)),\n      logActivity(userWithTeam?.teamId, user.id, ActivityType.UPDATE_ACCOUNT)\n    ]);\n\n    return { name, success: 'Account updated successfully.' };\n  }\n);\n\nconst removeTeamMemberSchema = z.object({\n  memberId: z.number()\n});\n\nexport const removeTeamMember = validatedActionWithUser(\n  removeTeamMemberSchema,\n  async (data, _, user) => {\n    const { memberId } = data;\n    const userWithTeam = await getUserWithTeam(user.id);\n\n    if (!userWithTeam?.teamId) {\n      return { error: 'User is not part of a team' };\n    }\n\n    await db\n      .delete(teamMembers)\n      .where(\n        and(\n          eq(teamMembers.id, memberId),\n          eq(teamMembers.teamId, userWithTeam.teamId)\n        )\n      );\n\n    await logActivity(\n      userWithTeam.teamId,\n      user.id,\n      ActivityType.REMOVE_TEAM_MEMBER\n    );\n\n    return { success: 'Team member removed successfully' };\n  }\n);\n\nconst inviteTeamMemberSchema = z.object({\n  email: z.string().email('Invalid email address'),\n  role: z.enum(['member', 'owner'])\n});\n\nexport const inviteTeamMember = validatedActionWithUser(\n  inviteTeamMemberSchema,\n  async (data, _, user) => {\n    const { email, role } = data;\n    const userWithTeam = await getUserWithTeam(user.id);\n\n    if (!userWithTeam?.teamId) {\n      return { error: 'User is not part of a team' };\n    }\n\n    const existingMember = await db\n      .select()\n      .from(users)\n      .leftJoin(teamMembers, eq(users.id, teamMembers.userId))\n      .where(\n        and(eq(users.email, email), eq(teamMembers.teamId, userWithTeam.teamId))\n      )\n      .limit(1);\n\n    if (existingMember.length > 0) {\n      return { error: 'User is already a member of this team' };\n    }\n\n    // Check if there's an existing invitation\n    const existingInvitation = await db\n      .select()\n      .from(invitations)\n      .where(\n        and(\n          eq(invitations.email, email),\n          eq(invitations.teamId, userWithTeam.teamId),\n          eq(invitations.status, 'pending')\n        )\n      )\n      .limit(1);\n\n    if (existingInvitation.length > 0) {\n      return { error: 'An invitation has already been sent to this email' };\n    }\n\n    // Create a new invitation\n    await db.insert(invitations).values({\n      teamId: userWithTeam.teamId,\n      email,\n      role,\n      invitedBy: user.id,\n      status: 'pending'\n    });\n\n    await logActivity(\n      userWithTeam.teamId,\n      user.id,\n      ActivityType.INVITE_TEAM_MEMBER\n    );\n\n    // TODO: Send invitation email and include ?inviteId={id} to sign-up URL\n    // await sendInvitationEmail(email, userWithTeam.team.name, role)\n\n    return { success: 'Invitation sent successfully' };\n  }\n);\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 621, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/.next-internal/server/app/%28dashboard%29/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {signOut as '003e4ea74a851d197d25f62e5aae17ae924ba89509'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 669, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n/**\n * Merge Tailwind CSS classes with proper precedence\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAKO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,yNAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,sLAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 683, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/constants.ts"],"sourcesContent":["/**\n * ReplyGenie MVP Constants\n * Following Apple-grade UX and Netflix-grade engineering principles\n */\n\n// Draft Generation Guardrails\nexport const DRAFT_CONSTRAINTS = {\n  MAX_WORDS: 90,\n  MAX_CHARS: 600,\n  MIN_DETAIL_WORDS: 3, // Must reference at least 3 words from review\n} as const;\n\n// Review Rating Thresholds\nexport const RATING_THRESHOLDS = {\n  POSITIVE: 4, // 4-5 stars\n  NEGATIVE: 3, // â‰¤3 stars\n} as const;\n\n// Quota Limits\nexport const QUOTA_LIMITS = {\n  DEFAULT_MONTHLY_POSTS: 100,\n  FREE_TIER_POSTS: 50,\n} as const;\n\n// API Retry Configuration\nexport const RETRY_CONFIG = {\n  MAX_RETRIES: 3,\n  INITIAL_DELAY_MS: 1000,\n  MAX_DELAY_MS: 10000,\n  BACKOFF_MULTIPLIER: 2,\n} as const;\n\n// JWT Configuration\nexport const JWT_CONFIG = {\n  EXTENSION_TOKEN_EXPIRY_MINUTES: 15,\n  WEB_SESSION_EXPIRY_DAYS: 30,\n} as const;\n\n// Sync Configuration\nexport const SYNC_CONFIG = {\n  MAX_REVIEWS_PER_SYNC: 100,\n  SYNC_LOOKBACK_DAYS: 90,\n} as const;\n\n// UI Animation Durations (ms)\nexport const ANIMATION_DURATIONS = {\n  FAST: 150,\n  NORMAL: 200,\n  SLOW: 300,\n} as const;\n\n// Apple Design System Values\nexport const DESIGN_TOKENS = {\n  BORDER_RADIUS: {\n    SM: '0.5rem',    // 8px\n    MD: '0.75rem',   // 12px - buttons/inputs\n    LG: '1rem',      // 16px - cards\n    XL: '1.25rem',   // 20px\n  },\n  SPACING: {\n    MOBILE_PADDING: '1.5rem',  // 24px\n    DESKTOP_PADDING: '3rem',   // 48px\n  },\n  BUTTON_HEIGHT: '2.75rem',    // 44px - touch-friendly\n} as const;\n"],"names":[],"mappings":"AAAA;;;CAGC,GAED,8BAA8B;;;;;;;;;;;AACvB,MAAM,oBAAoB;IAC/B,WAAW;IACX,WAAW;IACX,kBAAkB;AACpB;AAGO,MAAM,oBAAoB;IAC/B,UAAU;IACV,UAAU;AACZ;AAGO,MAAM,eAAe;IAC1B,uBAAuB;IACvB,iBAAiB;AACnB;AAGO,MAAM,eAAe;IAC1B,aAAa;IACb,kBAAkB;IAClB,cAAc;IACd,oBAAoB;AACtB;AAGO,MAAM,aAAa;IACxB,gCAAgC;IAChC,yBAAyB;AAC3B;AAGO,MAAM,cAAc;IACzB,sBAAsB;IACtB,oBAAoB;AACtB;AAGO,MAAM,sBAAsB;IACjC,MAAM;IACN,QAAQ;IACR,MAAM;AACR;AAGO,MAAM,gBAAgB;IAC3B,eAAe;QACb,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IACA,SAAS;QACP,gBAAgB;QAChB,iBAAiB;IACnB;IACA,eAAe;AACjB","debugId":null}},
    {"offset": {"line": 746, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/components/button.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '../utils';\n\n/**\n * Apple-inspired Button Component\n * - Height: 44px (h-11) for touch-friendly interaction\n * - Border radius: 12px (rounded-xl)\n * - Active state: scale-[0.98] for tactile feedback\n * - Shadow: subtle shadow-sm with hover:shadow-md\n */\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]',\n  {\n    variants: {\n      variant: {\n        primary:\n          'bg-primary text-primary-foreground shadow-sm hover:shadow-md hover:bg-primary/90',\n        secondary:\n          'bg-secondary text-secondary-foreground shadow-sm hover:shadow-md hover:bg-secondary/80',\n        outline:\n          'border-2 border-border bg-background hover:bg-accent hover:text-accent-foreground',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        destructive:\n          'bg-destructive text-destructive-foreground shadow-sm hover:shadow-md hover:bg-destructive/90',\n        success:\n          'bg-green-500 text-white shadow-sm hover:shadow-md hover:bg-green-600',\n      },\n      size: {\n        default: 'h-11 px-6 py-2',\n        sm: 'h-9 rounded-lg px-4',\n        lg: 'h-12 rounded-xl px-8',\n        icon: 'h-11 w-11',\n      },\n    },\n    defaultVariants: {\n      variant: 'primary',\n      size: 'default',\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, ...props }, ref) => {\n    return (\n      <button\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA;;;;;;CAMC,GAED,MAAM,iBAAiB,CAAA,GAAA,2OAAA,CAAA,MAAG,AAAD,EACvB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,SACE;YACF,OAAO;YACP,aACE;YACF,SACE;QACJ;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,oVAAA,CAAA,aAAgB,AAAD,EAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IACvC,qBACE,6XAAC;QACC,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAGF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 807, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/components/card.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cn } from '../utils';\n\n/**\n * Apple-inspired Card Component\n * - Border radius: 16px (rounded-2xl)\n * - Subtle border with border-border/50\n * - Generous padding (p-6 to p-8)\n * - Hover shadow transition\n */\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'rounded-2xl border border-border/50 bg-card text-card-foreground shadow-sm transition-shadow duration-200 hover:shadow-md',\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = 'Card';\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\n    {...props}\n  />\n));\nCardHeader.displayName = 'CardHeader';\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn('text-2xl font-semibold leading-none tracking-tight', className)}\n    {...props}\n  />\n));\nCardTitle.displayName = 'CardTitle';\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n));\nCardDescription.displayName = 'CardDescription';\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n));\nCardContent.displayName = 'CardContent';\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex items-center p-6 pt-0', className)}\n    {...props}\n  />\n));\nCardFooter.displayName = 'CardFooter';\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;;;;AAEA;;;;;;CAMC,GAED,MAAM,qBAAO,CAAA,GAAA,oVAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6XAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EACV,6HACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,oVAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6XAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,oVAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6XAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EAAE,sDAAsD;QACnE,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,oVAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6XAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,oVAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6XAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,oVAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6XAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 892, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/components/input.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cn } from '../utils';\n\n/**\n * Apple-inspired Input Component\n * - Height: 44px (h-11)\n * - Border radius: 12px (rounded-xl)\n * - Focus ring with primary color at 20% opacity\n * - Subtle background and border\n */\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          'flex h-11 w-full rounded-xl border border-input bg-background px-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/20 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\n\nInput.displayName = 'Input';\n\nexport { Input };\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAaA,MAAM,sBAAQ,CAAA,GAAA,oVAAA,CAAA,aAAgB,AAAD,EAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6XAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EACV,oZACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAGF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 919, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/components/textarea.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cn } from '../utils';\n\n/**\n * Apple-inspired Textarea Component\n * - Border radius: 12px (rounded-xl)\n * - Focus ring with primary color at 20% opacity\n * - Subtle background and border\n */\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[120px] w-full rounded-xl border border-input bg-background px-4 py-3 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/20 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-y transition-all duration-200',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\n\nTextarea.displayName = 'Textarea';\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAYA,MAAM,yBAAW,CAAA,GAAA,oVAAA,CAAA,aAAgB,AAAD,EAC9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,6XAAC;QACC,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EACV,iVACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAGF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 945, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/components/badge.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '../utils';\n\n/**\n * Apple-inspired Badge Component\n * - Rounded-full for pill shape\n * - Subtle shadow\n * - Clean status indicators\n */\n\nconst badgeVariants = cva(\n  'inline-flex items-center gap-1.5 rounded-full border px-3 py-1 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground shadow-sm',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground',\n        outline: 'text-foreground border-border',\n        success:\n          'border-transparent bg-green-500 text-white shadow-sm',\n        warning:\n          'border-transparent bg-yellow-500 text-white shadow-sm',\n        destructive:\n          'border-transparent bg-destructive text-destructive-foreground shadow-sm',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAEA;;;;;CAKC,GAED,MAAM,gBAAgB,CAAA,GAAA,2OAAA,CAAA,MAAG,AAAD,EACtB,8KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,SAAS;YACT,SACE;YACF,SACE;YACF,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6XAAC;QAAI,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE","debugId":null}},
    {"offset": {"line": 992, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/index.ts"],"sourcesContent":["// Utilities\nexport * from './utils';\n\n// Constants\nexport * from './constants';\n\n// Components\nexport * from './components/button';\nexport * from './components/card';\nexport * from './components/input';\nexport * from './components/textarea';\nexport * from './components/badge';\n"],"names":[],"mappings":"AAAA,YAAY;;AACZ;AAEA,YAAY;AACZ;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 1027, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/lib/utils.ts"],"sourcesContent":["// Re-export cn utility from shared package to maintain backward compatibility\nexport { cn } from '@replygenie/shared';\n"],"names":[],"mappings":"AAAA,8EAA8E;;AAC9E","debugId":null}},
    {"offset": {"line": 1042, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot as SlotPrimitive } from \"radix-ui\";;\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-semibold transition-all duration-200 disabled:pointer-events-none disabled:opacity-40 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 active:scale-[0.98]\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground rounded-xl shadow-sm hover:shadow-md hover:bg-primary/95\",\n        destructive:\n          \"bg-destructive text-white rounded-xl shadow-sm hover:shadow-md hover:bg-destructive/95\",\n        outline:\n          \"border border-border bg-background rounded-xl hover:bg-secondary/50 hover:border-border/80\",\n        secondary:\n          \"bg-secondary text-secondary-foreground rounded-xl hover:bg-secondary/80\",\n        ghost:\n          \"rounded-xl hover:bg-secondary/60\",\n        link: \"text-primary underline-offset-4 hover:underline rounded-md\"\n      },\n      size: {\n        default: \"h-11 px-6 py-2.5 has-[>svg]:px-5\",\n        sm: \"h-9 rounded-lg gap-1.5 px-4 text-xs has-[>svg]:px-3.5\",\n        lg: \"h-12 rounded-xl px-8 text-base has-[>svg]:px-7\",\n        icon: \"size-11 rounded-xl\"\n      }\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\"\n    }\n  }\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? SlotPrimitive.Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;AAAA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,2OAAA,CAAA,MAAG,AAAD,EACvB,2WACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,oUAAA,CAAA,OAAa,CAAC,IAAI,GAAG;IAE5C,qBACE,6XAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 1098, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/app/%28dashboard%29/terminal.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Terminal = registerClientReference(\n    function() { throw new Error(\"Attempted to call Terminal() from the server but Terminal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/app/(dashboard)/terminal.tsx <module evaluation>\",\n    \"Terminal\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,WAAW,CAAA,GAAA,oYAAA,CAAA,0BAAuB,AAAD,EAC1C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,uEACA","debugId":null}},
    {"offset": {"line": 1110, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/app/%28dashboard%29/terminal.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Terminal = registerClientReference(\n    function() { throw new Error(\"Attempted to call Terminal() from the server but Terminal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/app/(dashboard)/terminal.tsx\",\n    \"Terminal\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,WAAW,CAAA,GAAA,oYAAA,CAAA,0BAAuB,AAAD,EAC1C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,mDACA","debugId":null}},
    {"offset": {"line": 1122, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1130, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/app/%28dashboard%29/page.tsx"],"sourcesContent":["import { Button } from '@/components/ui/button';\nimport { ArrowRight, CreditCard, Database, Zap } from 'lucide-react';\nimport { Terminal } from './terminal';\n\nexport default function HomePage() {\n  return (\n    <main className=\"bg-gradient-to-b from-white to-gray-50/50\">\n      <section className=\"py-24 lg:py-32\">\n        <div className=\"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12\">\n          <div className=\"lg:grid lg:grid-cols-12 lg:gap-16 items-center\">\n            <div className=\"sm:text-center md:max-w-2xl md:mx-auto lg:col-span-6 lg:text-left\">\n              <h1 className=\"text-5xl font-bold text-foreground tracking-tight sm:text-6xl md:text-7xl leading-tight\">\n                Build Your SaaS\n                <span className=\"block text-primary mt-2\">Faster Than Ever</span>\n              </h1>\n              <p className=\"mt-6 text-lg text-muted-foreground sm:mt-8 sm:text-xl leading-relaxed\">\n                Launch your SaaS product in record time with our powerful,\n                ready-to-use template. Packed with modern technologies and\n                essential integrations.\n              </p>\n              <div className=\"mt-10 sm:max-w-lg sm:mx-auto sm:text-center lg:text-left lg:mx-0\">\n                <a\n                  href=\"https://vercel.com/templates/next.js/next-js-saas-starter\"\n                  target=\"_blank\"\n                >\n                  <Button\n                    size=\"lg\"\n                    variant=\"default\"\n                    className=\"text-base shadow-lg hover:shadow-xl\"\n                  >\n                    Deploy your own\n                    <ArrowRight className=\"ml-2 h-5 w-5\" />\n                  </Button>\n                </a>\n              </div>\n            </div>\n            <div className=\"mt-16 relative sm:max-w-lg sm:mx-auto lg:mt-0 lg:max-w-none lg:mx-0 lg:col-span-6 lg:flex lg:items-center\">\n              <Terminal />\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-20 lg:py-28 bg-white w-full\">\n        <div className=\"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12\">\n          <div className=\"lg:grid lg:grid-cols-3 lg:gap-12\">\n            <div className=\"group\">\n              <div className=\"flex items-center justify-center h-16 w-16 rounded-2xl bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300\">\n                <Zap className=\"h-8 w-8\" />\n              </div>\n              <div className=\"mt-6\">\n                <h2 className=\"text-xl font-semibold text-foreground\">\n                  Next.js and React\n                </h2>\n                <p className=\"mt-3 text-base text-muted-foreground leading-relaxed\">\n                  Leverage the power of modern web technologies for optimal\n                  performance and developer experience.\n                </p>\n              </div>\n            </div>\n\n            <div className=\"mt-12 lg:mt-0 group\">\n              <div className=\"flex items-center justify-center h-16 w-16 rounded-2xl bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300\">\n                <Database className=\"h-8 w-8\" />\n              </div>\n              <div className=\"mt-6\">\n                <h2 className=\"text-xl font-semibold text-foreground\">\n                  Postgres and Drizzle ORM\n                </h2>\n                <p className=\"mt-3 text-base text-muted-foreground leading-relaxed\">\n                  Robust database solution with an intuitive ORM for efficient\n                  data management and scalability.\n                </p>\n              </div>\n            </div>\n\n            <div className=\"mt-12 lg:mt-0 group\">\n              <div className=\"flex items-center justify-center h-16 w-16 rounded-2xl bg-primary/10 text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300\">\n                <CreditCard className=\"h-8 w-8\" />\n              </div>\n              <div className=\"mt-6\">\n                <h2 className=\"text-xl font-semibold text-foreground\">\n                  Stripe Integration\n                </h2>\n                <p className=\"mt-3 text-base text-muted-foreground leading-relaxed\">\n                  Seamless payment processing and subscription management with\n                  industry-leading Stripe integration.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-24 lg:py-32 bg-gradient-to-b from-gray-50/50 to-white\">\n        <div className=\"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12\">\n          <div className=\"lg:grid lg:grid-cols-2 lg:gap-16 lg:items-center\">\n            <div>\n              <h2 className=\"text-4xl font-bold text-foreground sm:text-5xl leading-tight\">\n                Ready to launch your SaaS?\n              </h2>\n              <p className=\"mt-6 max-w-3xl text-lg text-muted-foreground leading-relaxed\">\n                Our template provides everything you need to get your SaaS up\n                and running quickly. Don't waste time on boilerplate - focus on\n                what makes your product unique.\n              </p>\n            </div>\n            <div className=\"mt-10 lg:mt-0 flex justify-center lg:justify-end\">\n              <a href=\"https://github.com/nextjs/saas-starter\" target=\"_blank\">\n                <Button\n                  size=\"lg\"\n                  variant=\"outline\"\n                  className=\"text-base shadow-sm hover:shadow-lg\"\n                >\n                  View the code\n                  <ArrowRight className=\"ml-3 h-5 w-5\" />\n                </Button>\n              </a>\n            </div>\n          </div>\n        </div>\n      </section>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;;;;AAEe,SAAS;IACtB,qBACE,6XAAC;QAAK,WAAU;;0BACd,6XAAC;gBAAQ,WAAU;0BACjB,cAAA,6XAAC;oBAAI,WAAU;8BACb,cAAA,6XAAC;wBAAI,WAAU;;0CACb,6XAAC;gCAAI,WAAU;;kDACb,6XAAC;wCAAG,WAAU;;4CAA0F;0DAEtG,6XAAC;gDAAK,WAAU;0DAA0B;;;;;;;;;;;;kDAE5C,6XAAC;wCAAE,WAAU;kDAAwE;;;;;;kDAKrF,6XAAC;wCAAI,WAAU;kDACb,cAAA,6XAAC;4CACC,MAAK;4CACL,QAAO;sDAEP,cAAA,6XAAC,0IAAA,CAAA,SAAM;gDACL,MAAK;gDACL,SAAQ;gDACR,WAAU;;oDACX;kEAEC,6XAAC,sSAAA,CAAA,aAAU;wDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAK9B,6XAAC;gCAAI,WAAU;0CACb,cAAA,6XAAC,gJAAA,CAAA,WAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMjB,6XAAC;gBAAQ,WAAU;0BACjB,cAAA,6XAAC;oBAAI,WAAU;8BACb,cAAA,6XAAC;wBAAI,WAAU;;0CACb,6XAAC;gCAAI,WAAU;;kDACb,6XAAC;wCAAI,WAAU;kDACb,cAAA,6XAAC,oRAAA,CAAA,MAAG;4CAAC,WAAU;;;;;;;;;;;kDAEjB,6XAAC;wCAAI,WAAU;;0DACb,6XAAC;gDAAG,WAAU;0DAAwC;;;;;;0DAGtD,6XAAC;gDAAE,WAAU;0DAAuD;;;;;;;;;;;;;;;;;;0CAOxE,6XAAC;gCAAI,WAAU;;kDACb,6XAAC;wCAAI,WAAU;kDACb,cAAA,6XAAC,8RAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;;;;;;kDAEtB,6XAAC;wCAAI,WAAU;;0DACb,6XAAC;gDAAG,WAAU;0DAAwC;;;;;;0DAGtD,6XAAC;gDAAE,WAAU;0DAAuD;;;;;;;;;;;;;;;;;;0CAOxE,6XAAC;gCAAI,WAAU;;kDACb,6XAAC;wCAAI,WAAU;kDACb,cAAA,6XAAC,sSAAA,CAAA,aAAU;4CAAC,WAAU;;;;;;;;;;;kDAExB,6XAAC;wCAAI,WAAU;;0DACb,6XAAC;gDAAG,WAAU;0DAAwC;;;;;;0DAGtD,6XAAC;gDAAE,WAAU;0DAAuD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAU9E,6XAAC;gBAAQ,WAAU;0BACjB,cAAA,6XAAC;oBAAI,WAAU;8BACb,cAAA,6XAAC;wBAAI,WAAU;;0CACb,6XAAC;;kDACC,6XAAC;wCAAG,WAAU;kDAA+D;;;;;;kDAG7E,6XAAC;wCAAE,WAAU;kDAA+D;;;;;;;;;;;;0CAM9E,6XAAC;gCAAI,WAAU;0CACb,cAAA,6XAAC;oCAAE,MAAK;oCAAyC,QAAO;8CACtD,cAAA,6XAAC,0IAAA,CAAA,SAAM;wCACL,MAAK;wCACL,SAAQ;wCACR,WAAU;;4CACX;0DAEC,6XAAC,sSAAA,CAAA,aAAU;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASxC","debugId":null}}]
}