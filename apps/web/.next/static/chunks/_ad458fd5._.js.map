{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n/**\n * Merge Tailwind CSS classes with proper precedence\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAKO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,4NAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,yLAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/constants.ts"],"sourcesContent":["/**\n * ReplyGenie MVP Constants\n * Following Apple-grade UX and Netflix-grade engineering principles\n */\n\n// Draft Generation Guardrails\nexport const DRAFT_CONSTRAINTS = {\n  MAX_WORDS: 90,\n  MAX_CHARS: 600,\n  MIN_DETAIL_WORDS: 3, // Must reference at least 3 words from review\n} as const;\n\n// Review Rating Thresholds\nexport const RATING_THRESHOLDS = {\n  POSITIVE: 4, // 4-5 stars\n  NEGATIVE: 3, // â‰¤3 stars\n} as const;\n\n// Quota Limits\nexport const QUOTA_LIMITS = {\n  DEFAULT_MONTHLY_POSTS: 100,\n  FREE_TIER_POSTS: 50,\n} as const;\n\n// API Retry Configuration\nexport const RETRY_CONFIG = {\n  MAX_RETRIES: 3,\n  INITIAL_DELAY_MS: 1000,\n  MAX_DELAY_MS: 10000,\n  BACKOFF_MULTIPLIER: 2,\n} as const;\n\n// JWT Configuration\nexport const JWT_CONFIG = {\n  EXTENSION_TOKEN_EXPIRY_MINUTES: 15,\n  WEB_SESSION_EXPIRY_DAYS: 30,\n} as const;\n\n// Sync Configuration\nexport const SYNC_CONFIG = {\n  MAX_REVIEWS_PER_SYNC: 100,\n  SYNC_LOOKBACK_DAYS: 90,\n} as const;\n\n// UI Animation Durations (ms)\nexport const ANIMATION_DURATIONS = {\n  FAST: 150,\n  NORMAL: 200,\n  SLOW: 300,\n} as const;\n\n// Apple Design System Values\nexport const DESIGN_TOKENS = {\n  BORDER_RADIUS: {\n    SM: '0.5rem',    // 8px\n    MD: '0.75rem',   // 12px - buttons/inputs\n    LG: '1rem',      // 16px - cards\n    XL: '1.25rem',   // 20px\n  },\n  SPACING: {\n    MOBILE_PADDING: '1.5rem',  // 24px\n    DESKTOP_PADDING: '3rem',   // 48px\n  },\n  BUTTON_HEIGHT: '2.75rem',    // 44px - touch-friendly\n} as const;\n"],"names":[],"mappings":"AAAA;;;CAGC,GAED,8BAA8B;;;;;;;;;;;AACvB,MAAM,oBAAoB;IAC/B,WAAW;IACX,WAAW;IACX,kBAAkB;AACpB;AAGO,MAAM,oBAAoB;IAC/B,UAAU;IACV,UAAU;AACZ;AAGO,MAAM,eAAe;IAC1B,uBAAuB;IACvB,iBAAiB;AACnB;AAGO,MAAM,eAAe;IAC1B,aAAa;IACb,kBAAkB;IAClB,cAAc;IACd,oBAAoB;AACtB;AAGO,MAAM,aAAa;IACxB,gCAAgC;IAChC,yBAAyB;AAC3B;AAGO,MAAM,cAAc;IACzB,sBAAsB;IACtB,oBAAoB;AACtB;AAGO,MAAM,sBAAsB;IACjC,MAAM;IACN,QAAQ;IACR,MAAM;AACR;AAGO,MAAM,gBAAgB;IAC3B,eAAe;QACb,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IACA,SAAS;QACP,gBAAgB;QAChB,iBAAiB;IACnB;IACA,eAAe;AACjB","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/components/button.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '../utils';\n\n/**\n * Apple-inspired Button Component\n * - Height: 44px (h-11) for touch-friendly interaction\n * - Border radius: 12px (rounded-xl)\n * - Active state: scale-[0.98] for tactile feedback\n * - Shadow: subtle shadow-sm with hover:shadow-md\n */\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]',\n  {\n    variants: {\n      variant: {\n        primary:\n          'bg-primary text-primary-foreground shadow-sm hover:shadow-md hover:bg-primary/90',\n        secondary:\n          'bg-secondary text-secondary-foreground shadow-sm hover:shadow-md hover:bg-secondary/80',\n        outline:\n          'border-2 border-border bg-background hover:bg-accent hover:text-accent-foreground',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        destructive:\n          'bg-destructive text-destructive-foreground shadow-sm hover:shadow-md hover:bg-destructive/90',\n        success:\n          'bg-green-500 text-white shadow-sm hover:shadow-md hover:bg-green-600',\n      },\n      size: {\n        default: 'h-11 px-6 py-2',\n        sm: 'h-9 rounded-lg px-4',\n        lg: 'h-12 rounded-xl px-8',\n        icon: 'h-11 w-11',\n      },\n    },\n    defaultVariants: {\n      variant: 'primary',\n      size: 'default',\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, ...props }, ref) => {\n    return (\n      <button\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA;;;;;;CAMC,GAED,MAAM,iBAAiB,CAAA,GAAA,8OAAA,CAAA,MAAG,AAAD,EACvB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,SACE;YACF,OAAO;YACP,aACE;YACF,SACE;QACJ;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,4TAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IACvC,qBACE,4VAAC;QACC,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAGF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/components/card.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cn } from '../utils';\n\n/**\n * Apple-inspired Card Component\n * - Border radius: 16px (rounded-2xl)\n * - Subtle border with border-border/50\n * - Generous padding (p-6 to p-8)\n * - Hover shadow transition\n */\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'rounded-2xl border border-border/50 bg-card text-card-foreground shadow-sm transition-shadow duration-200 hover:shadow-md',\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = 'Card';\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\n    {...props}\n  />\n));\nCardHeader.displayName = 'CardHeader';\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn('text-2xl font-semibold leading-none tracking-tight', className)}\n    {...props}\n  />\n));\nCardTitle.displayName = 'CardTitle';\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n));\nCardDescription.displayName = 'CardDescription';\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n));\nCardContent.displayName = 'CardContent';\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex items-center p-6 pt-0', className)}\n    {...props}\n  />\n));\nCardFooter.displayName = 'CardFooter';\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;;;;AAEA;;;;;;CAMC,GAED,MAAM,qBAAO,CAAA,GAAA,4TAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4VAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,6HACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,4TAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4VAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,4TAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4VAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,sDAAsD;QACnE,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,4TAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4VAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,4TAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4VAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,4TAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4VAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/components/input.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cn } from '../utils';\n\n/**\n * Apple-inspired Input Component\n * - Height: 44px (h-11)\n * - Border radius: 12px (rounded-xl)\n * - Focus ring with primary color at 20% opacity\n * - Subtle background and border\n */\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          'flex h-11 w-full rounded-xl border border-input bg-background px-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/20 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\n\nInput.displayName = 'Input';\n\nexport { Input };\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAaA,MAAM,sBAAQ,CAAA,GAAA,4TAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,4VAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,oZACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAGF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/components/textarea.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cn } from '../utils';\n\n/**\n * Apple-inspired Textarea Component\n * - Border radius: 12px (rounded-xl)\n * - Focus ring with primary color at 20% opacity\n * - Subtle background and border\n */\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[120px] w-full rounded-xl border border-input bg-background px-4 py-3 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/20 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-y transition-all duration-200',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\n\nTextarea.displayName = 'Textarea';\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAYA,MAAM,yBAAW,CAAA,GAAA,4TAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,4VAAC;QACC,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,iVACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAGF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 344, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/components/badge.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '../utils';\n\n/**\n * Apple-inspired Badge Component\n * - Rounded-full for pill shape\n * - Subtle shadow\n * - Clean status indicators\n */\n\nconst badgeVariants = cva(\n  'inline-flex items-center gap-1.5 rounded-full border px-3 py-1 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground shadow-sm',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground',\n        outline: 'text-foreground border-border',\n        success:\n          'border-transparent bg-green-500 text-white shadow-sm',\n        warning:\n          'border-transparent bg-yellow-500 text-white shadow-sm',\n        destructive:\n          'border-transparent bg-destructive text-destructive-foreground shadow-sm',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAEA;;;;;CAKC,GAED,MAAM,gBAAgB,CAAA,GAAA,8OAAA,CAAA,MAAG,AAAD,EACtB,8KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,SAAS;YACT,SACE;YACF,SACE;YACF,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,4VAAC;QAAI,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/packages/shared/src/index.ts"],"sourcesContent":["// Utilities\nexport * from './utils';\n\n// Constants\nexport * from './constants';\n\n// Components\nexport * from './components/button';\nexport * from './components/card';\nexport * from './components/input';\nexport * from './components/textarea';\nexport * from './components/badge';\n"],"names":[],"mappings":"AAAA,YAAY;;AACZ;AAEA,YAAY;AACZ;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 439, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/lib/utils.ts"],"sourcesContent":["// Re-export cn utility from shared package to maintain backward compatibility\nexport { cn } from '@replygenie/shared';\n"],"names":[],"mappings":"AAAA,8EAA8E;;AAC9E","debugId":null}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot as SlotPrimitive } from \"radix-ui\";;\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-semibold transition-all duration-200 disabled:pointer-events-none disabled:opacity-40 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 active:scale-[0.98]\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground rounded-xl shadow-sm hover:shadow-md hover:bg-primary/95\",\n        destructive:\n          \"bg-destructive text-white rounded-xl shadow-sm hover:shadow-md hover:bg-destructive/95\",\n        outline:\n          \"border border-border bg-background rounded-xl hover:bg-secondary/50 hover:border-border/80\",\n        secondary:\n          \"bg-secondary text-secondary-foreground rounded-xl hover:bg-secondary/80\",\n        ghost:\n          \"rounded-xl hover:bg-secondary/60\",\n        link: \"text-primary underline-offset-4 hover:underline rounded-md\"\n      },\n      size: {\n        default: \"h-11 px-6 py-2.5 has-[>svg]:px-5\",\n        sm: \"h-9 rounded-lg gap-1.5 px-4 text-xs has-[>svg]:px-3.5\",\n        lg: \"h-12 rounded-xl px-8 text-base has-[>svg]:px-7\",\n        icon: \"size-11 rounded-xl\"\n      }\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\"\n    }\n  }\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? SlotPrimitive.Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;AAAA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,8OAAA,CAAA,MAAG,AAAD,EACvB,2WACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,uUAAA,CAAA,OAAa,CAAC,IAAI,GAAG;IAE5C,qBACE,4VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 523, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { DropdownMenu as DropdownMenuPrimitive } from \"radix-ui\";;\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />;\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  );\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 820, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/components/ui/avatar.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Avatar as AvatarPrimitive } from \"radix-ui\";;\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Avatar, AvatarImage, AvatarFallback };\n"],"names":[],"mappings":";;;;;;AAGA;AAEA;AAAA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,4VAAC,wZAAA,CAAA,SAAe,CAAC,IAAI;QACnB,aAAU;QACV,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4VAAC,wZAAA,CAAA,SAAe,CAAC,KAAK;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,4VAAC,wZAAA,CAAA,SAAe,CAAC,QAAQ;QACvB,aAAU;QACV,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS","debugId":null}},
    {"offset": {"line": 883, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/app/%28login%29/actions.ts"],"sourcesContent":["'use server';\n\nimport { z } from 'zod';\nimport { and, eq, sql } from 'drizzle-orm';\nimport { db } from '@/lib/db/drizzle';\nimport {\n  User,\n  users,\n  teams,\n  teamMembers,\n  activityLogs,\n  type NewUser,\n  type NewTeam,\n  type NewTeamMember,\n  type NewActivityLog,\n  ActivityType,\n  invitations\n} from '@/lib/db/schema';\nimport { comparePasswords, hashPassword, setSession } from '@/lib/auth/session';\nimport { redirect } from 'next/navigation';\nimport { cookies } from 'next/headers';\nimport { createCheckoutSession } from '@/lib/payments/stripe';\nimport { getUser, getUserWithTeam } from '@/lib/db/queries';\nimport {\n  validatedAction,\n  validatedActionWithUser\n} from '@/lib/auth/middleware';\n\nasync function logActivity(\n  teamId: number | null | undefined,\n  userId: number,\n  type: ActivityType,\n  ipAddress?: string\n) {\n  if (teamId === null || teamId === undefined) {\n    return;\n  }\n  const newActivity: NewActivityLog = {\n    teamId,\n    userId,\n    action: type,\n    ipAddress: ipAddress || ''\n  };\n  await db.insert(activityLogs).values(newActivity);\n}\n\nconst signInSchema = z.object({\n  email: z.string().email().min(3).max(255),\n  password: z.string().min(8).max(100)\n});\n\nexport const signIn = validatedAction(signInSchema, async (data, formData) => {\n  const { email, password } = data;\n\n  const userWithTeam = await db\n    .select({\n      user: users,\n      team: teams\n    })\n    .from(users)\n    .leftJoin(teamMembers, eq(users.id, teamMembers.userId))\n    .leftJoin(teams, eq(teamMembers.teamId, teams.id))\n    .where(eq(users.email, email))\n    .limit(1);\n\n  if (userWithTeam.length === 0) {\n    return {\n      error: 'Invalid email or password. Please try again.',\n      email,\n      password\n    };\n  }\n\n  const { user: foundUser, team: foundTeam } = userWithTeam[0];\n\n  const isPasswordValid = await comparePasswords(\n    password,\n    foundUser.passwordHash\n  );\n\n  if (!isPasswordValid) {\n    return {\n      error: 'Invalid email or password. Please try again.',\n      email,\n      password\n    };\n  }\n\n  await Promise.all([\n    setSession(foundUser),\n    logActivity(foundTeam?.id, foundUser.id, ActivityType.SIGN_IN)\n  ]);\n\n  const redirectTo = formData.get('redirect') as string | null;\n  if (redirectTo === 'checkout') {\n    const priceId = formData.get('priceId') as string;\n    return createCheckoutSession({ team: foundTeam, priceId });\n  }\n\n  redirect('/app/dashboard');\n});\n\nconst signUpSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(8),\n  inviteId: z.string().optional()\n});\n\nexport const signUp = validatedAction(signUpSchema, async (data, formData) => {\n  const { email, password, inviteId } = data;\n\n  const existingUser = await db\n    .select()\n    .from(users)\n    .where(eq(users.email, email))\n    .limit(1);\n\n  if (existingUser.length > 0) {\n    return {\n      error: 'Failed to create user. Please try again.',\n      email,\n      password\n    };\n  }\n\n  const passwordHash = await hashPassword(password);\n\n  const newUser: NewUser = {\n    email,\n    passwordHash,\n    role: 'owner' // Default role, will be overridden if there's an invitation\n  };\n\n  const [createdUser] = await db.insert(users).values(newUser).returning();\n\n  if (!createdUser) {\n    return {\n      error: 'Failed to create user. Please try again.',\n      email,\n      password\n    };\n  }\n\n  let teamId: number;\n  let userRole: string;\n  let createdTeam: typeof teams.$inferSelect | null = null;\n\n  if (inviteId) {\n    // Check if there's a valid invitation\n    const [invitation] = await db\n      .select()\n      .from(invitations)\n      .where(\n        and(\n          eq(invitations.id, parseInt(inviteId)),\n          eq(invitations.email, email),\n          eq(invitations.status, 'pending')\n        )\n      )\n      .limit(1);\n\n    if (invitation) {\n      teamId = invitation.teamId;\n      userRole = invitation.role;\n\n      await db\n        .update(invitations)\n        .set({ status: 'accepted' })\n        .where(eq(invitations.id, invitation.id));\n\n      await logActivity(teamId, createdUser.id, ActivityType.ACCEPT_INVITATION);\n\n      [createdTeam] = await db\n        .select()\n        .from(teams)\n        .where(eq(teams.id, teamId))\n        .limit(1);\n    } else {\n      return { error: 'Invalid or expired invitation.', email, password };\n    }\n  } else {\n    // Create a new team if there's no invitation\n    const newTeam: NewTeam = {\n      name: `${email}'s Team`\n    };\n\n    [createdTeam] = await db.insert(teams).values(newTeam).returning();\n\n    if (!createdTeam) {\n      return {\n        error: 'Failed to create team. Please try again.',\n        email,\n        password\n      };\n    }\n\n    teamId = createdTeam.id;\n    userRole = 'owner';\n\n    await logActivity(teamId, createdUser.id, ActivityType.CREATE_TEAM);\n  }\n\n  const newTeamMember: NewTeamMember = {\n    userId: createdUser.id,\n    teamId: teamId,\n    role: userRole\n  };\n\n  await Promise.all([\n    db.insert(teamMembers).values(newTeamMember),\n    logActivity(teamId, createdUser.id, ActivityType.SIGN_UP),\n    setSession(createdUser)\n  ]);\n\n  const redirectTo = formData.get('redirect') as string | null;\n  if (redirectTo === 'checkout') {\n    const priceId = formData.get('priceId') as string;\n    return createCheckoutSession({ team: createdTeam, priceId });\n  }\n\n  redirect('/app/dashboard');\n});\n\nexport async function signOut() {\n  const user = (await getUser()) as User;\n  const userWithTeam = await getUserWithTeam(user.id);\n  await logActivity(userWithTeam?.teamId, user.id, ActivityType.SIGN_OUT);\n  (await cookies()).delete('session');\n}\n\nconst updatePasswordSchema = z.object({\n  currentPassword: z.string().min(8).max(100),\n  newPassword: z.string().min(8).max(100),\n  confirmPassword: z.string().min(8).max(100)\n});\n\nexport const updatePassword = validatedActionWithUser(\n  updatePasswordSchema,\n  async (data, _, user) => {\n    const { currentPassword, newPassword, confirmPassword } = data;\n\n    const isPasswordValid = await comparePasswords(\n      currentPassword,\n      user.passwordHash\n    );\n\n    if (!isPasswordValid) {\n      return {\n        currentPassword,\n        newPassword,\n        confirmPassword,\n        error: 'Current password is incorrect.'\n      };\n    }\n\n    if (currentPassword === newPassword) {\n      return {\n        currentPassword,\n        newPassword,\n        confirmPassword,\n        error: 'New password must be different from the current password.'\n      };\n    }\n\n    if (confirmPassword !== newPassword) {\n      return {\n        currentPassword,\n        newPassword,\n        confirmPassword,\n        error: 'New password and confirmation password do not match.'\n      };\n    }\n\n    const newPasswordHash = await hashPassword(newPassword);\n    const userWithTeam = await getUserWithTeam(user.id);\n\n    await Promise.all([\n      db\n        .update(users)\n        .set({ passwordHash: newPasswordHash })\n        .where(eq(users.id, user.id)),\n      logActivity(userWithTeam?.teamId, user.id, ActivityType.UPDATE_PASSWORD)\n    ]);\n\n    return {\n      success: 'Password updated successfully.'\n    };\n  }\n);\n\nconst deleteAccountSchema = z.object({\n  password: z.string().min(8).max(100)\n});\n\nexport const deleteAccount = validatedActionWithUser(\n  deleteAccountSchema,\n  async (data, _, user) => {\n    const { password } = data;\n\n    const isPasswordValid = await comparePasswords(password, user.passwordHash);\n    if (!isPasswordValid) {\n      return {\n        password,\n        error: 'Incorrect password. Account deletion failed.'\n      };\n    }\n\n    const userWithTeam = await getUserWithTeam(user.id);\n\n    await logActivity(\n      userWithTeam?.teamId,\n      user.id,\n      ActivityType.DELETE_ACCOUNT\n    );\n\n    // Soft delete\n    await db\n      .update(users)\n      .set({\n        deletedAt: sql`CURRENT_TIMESTAMP`,\n        email: sql`CONCAT(email, '-', id, '-deleted')` // Ensure email uniqueness\n      })\n      .where(eq(users.id, user.id));\n\n    if (userWithTeam?.teamId) {\n      await db\n        .delete(teamMembers)\n        .where(\n          and(\n            eq(teamMembers.userId, user.id),\n            eq(teamMembers.teamId, userWithTeam.teamId)\n          )\n        );\n    }\n\n    (await cookies()).delete('session');\n    redirect('/sign-in');\n  }\n);\n\nconst updateAccountSchema = z.object({\n  name: z.string().min(1, 'Name is required').max(100),\n  email: z.string().email('Invalid email address')\n});\n\nexport const updateAccount = validatedActionWithUser(\n  updateAccountSchema,\n  async (data, _, user) => {\n    const { name, email } = data;\n    const userWithTeam = await getUserWithTeam(user.id);\n\n    await Promise.all([\n      db.update(users).set({ name, email }).where(eq(users.id, user.id)),\n      logActivity(userWithTeam?.teamId, user.id, ActivityType.UPDATE_ACCOUNT)\n    ]);\n\n    return { name, success: 'Account updated successfully.' };\n  }\n);\n\nconst removeTeamMemberSchema = z.object({\n  memberId: z.number()\n});\n\nexport const removeTeamMember = validatedActionWithUser(\n  removeTeamMemberSchema,\n  async (data, _, user) => {\n    const { memberId } = data;\n    const userWithTeam = await getUserWithTeam(user.id);\n\n    if (!userWithTeam?.teamId) {\n      return { error: 'User is not part of a team' };\n    }\n\n    await db\n      .delete(teamMembers)\n      .where(\n        and(\n          eq(teamMembers.id, memberId),\n          eq(teamMembers.teamId, userWithTeam.teamId)\n        )\n      );\n\n    await logActivity(\n      userWithTeam.teamId,\n      user.id,\n      ActivityType.REMOVE_TEAM_MEMBER\n    );\n\n    return { success: 'Team member removed successfully' };\n  }\n);\n\nconst inviteTeamMemberSchema = z.object({\n  email: z.string().email('Invalid email address'),\n  role: z.enum(['member', 'owner'])\n});\n\nexport const inviteTeamMember = validatedActionWithUser(\n  inviteTeamMemberSchema,\n  async (data, _, user) => {\n    const { email, role } = data;\n    const userWithTeam = await getUserWithTeam(user.id);\n\n    if (!userWithTeam?.teamId) {\n      return { error: 'User is not part of a team' };\n    }\n\n    const existingMember = await db\n      .select()\n      .from(users)\n      .leftJoin(teamMembers, eq(users.id, teamMembers.userId))\n      .where(\n        and(eq(users.email, email), eq(teamMembers.teamId, userWithTeam.teamId))\n      )\n      .limit(1);\n\n    if (existingMember.length > 0) {\n      return { error: 'User is already a member of this team' };\n    }\n\n    // Check if there's an existing invitation\n    const existingInvitation = await db\n      .select()\n      .from(invitations)\n      .where(\n        and(\n          eq(invitations.email, email),\n          eq(invitations.teamId, userWithTeam.teamId),\n          eq(invitations.status, 'pending')\n        )\n      )\n      .limit(1);\n\n    if (existingInvitation.length > 0) {\n      return { error: 'An invitation has already been sent to this email' };\n    }\n\n    // Create a new invitation\n    await db.insert(invitations).values({\n      teamId: userWithTeam.teamId,\n      email,\n      role,\n      invitedBy: user.id,\n      status: 'pending'\n    });\n\n    await logActivity(\n      userWithTeam.teamId,\n      user.id,\n      ActivityType.INVITE_TEAM_MEMBER\n    );\n\n    // TODO: Send invitation email and include ?inviteId={id} to sign-up URL\n    // await sendInvitationEmail(email, userWithTeam.team.name, role)\n\n    return { success: 'Invitation sent successfully' };\n  }\n);\n"],"names":[],"mappings":";;;;;;IA+NsB,UAAA,WAAA,GAAA,CAAA,GAAA,wWAAA,CAAA,wBAAA,EAAA,8CAAA,wWAAA,CAAA,aAAA,EAAA,KAAA,GAAA,wWAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 899, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohitgawli/Documents/GitHub/replygeniev2/apps/web/app/app/layout.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { useState, Suspense } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { LogOut, LayoutDashboard, Settings as SettingsIcon, Activity, Menu } from 'lucide-react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger\n} from '@/components/ui/dropdown-menu';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { signOut } from '@/app/(login)/actions';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { User } from '@/lib/db/schema';\nimport useSWR, { mutate } from 'swr';\n\nconst fetcher = (url: string) => fetch(url).then((res) => res.json());\n\nfunction UserMenu() {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const { data: user } = useSWR<User>('/api/user', fetcher);\n  const router = useRouter();\n\n  async function handleSignOut() {\n    await signOut();\n    mutate('/api/user');\n    router.push('/');\n  }\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <DropdownMenu open={isMenuOpen} onOpenChange={setIsMenuOpen}>\n      <DropdownMenuTrigger>\n        <Avatar className=\"cursor-pointer size-9\">\n          <AvatarImage alt={user.name || ''} />\n          <AvatarFallback>\n            {user.email\n              .split(' ')\n              .map((n) => n[0])\n              .join('')}\n          </AvatarFallback>\n        </Avatar>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\" className=\"flex flex-col gap-1\">\n        <DropdownMenuItem className=\"cursor-pointer\">\n          <Link href=\"/app/dashboard\" className=\"flex w-full items-center\">\n            <LayoutDashboard className=\"mr-2 h-4 w-4\" />\n            <span>Dashboard</span>\n          </Link>\n        </DropdownMenuItem>\n        <form action={handleSignOut} className=\"w-full\">\n          <button type=\"submit\" className=\"flex w-full\">\n            <DropdownMenuItem className=\"w-full flex-1 cursor-pointer\">\n              <LogOut className=\"mr-2 h-4 w-4\" />\n              <span>Sign out</span>\n            </DropdownMenuItem>\n          </button>\n        </form>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n\nfunction Header() {\n  return (\n    <header className=\"border-b border-border/50 bg-white/80 backdrop-blur-xl sticky top-0 z-50\">\n      <div className=\"max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-4 flex justify-between items-center\">\n        <Link\n          href=\"/app/dashboard\"\n          className=\"flex items-center gap-2 group hover:opacity-80 transition-opacity\"\n        >\n          <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground group-hover:scale-105 transition-transform\">\n            <span className=\"text-lg font-bold\">R</span>\n          </div>\n          <span className=\"text-xl font-semibold\">ReplyGenie</span>\n        </Link>\n        <div className=\"flex items-center space-x-4\">\n          <Suspense fallback={<div className=\"h-11\" />}>\n            <UserMenu />\n          </Suspense>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nexport default function Layout({ children }: { children: React.ReactNode }) {\n  const pathname = usePathname();\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  const navItems = [\n    { href: '/app/dashboard', icon: LayoutDashboard, label: 'Dashboard' },\n    { href: '/app/general', icon: SettingsIcon, label: 'General' },\n    { href: '/app/activity', icon: Activity, label: 'Activity' },\n    { href: '/app/settings', icon: SettingsIcon, label: 'Settings' }\n  ];\n\n  return (\n    <section className=\"flex flex-col min-h-screen\">\n      <Header />\n      \n      <div className=\"flex flex-col flex-1 max-w-7xl mx-auto w-full\">\n        {/* Mobile header */}\n        <div className=\"lg:hidden flex items-center justify-between bg-white border-b border-gray-200 p-4\">\n          <div className=\"flex items-center\">\n            <span className=\"font-medium\">Menu</span>\n          </div>\n          <Button\n            className=\"-mr-3\"\n            variant=\"ghost\"\n            onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n          >\n            <Menu className=\"h-6 w-6\" />\n            <span className=\"sr-only\">Toggle sidebar</span>\n          </Button>\n        </div>\n\n        <div className=\"flex flex-1 overflow-hidden h-full\">\n          {/* Sidebar */}\n          <aside\n            className={`w-64 bg-white lg:bg-gray-50 border-r border-gray-200 lg:block ${\n              isSidebarOpen ? 'block' : 'hidden'\n            } lg:relative absolute inset-y-0 left-0 z-40 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${\n              isSidebarOpen ? 'translate-x-0' : '-translate-x-full'\n            }`}\n          >\n            <nav className=\"h-full overflow-y-auto p-4\">\n              {navItems.map((item) => {\n                const isActive = pathname === item.href || pathname?.startsWith(item.href + '/');\n                return (\n                  <Link key={item.href} href={item.href} passHref>\n                    <Button\n                      variant={isActive ? 'secondary' : 'ghost'}\n                      className={`shadow-none my-1 w-full justify-start ${\n                        isActive ? 'bg-gray-100' : ''\n                      }`}\n                      onClick={() => setIsSidebarOpen(false)}\n                    >\n                      <item.icon className=\"h-4 w-4\" />\n                      {item.label}\n                    </Button>\n                  </Link>\n                );\n              })}\n            </nav>\n          </aside>\n\n          {/* Main content */}\n          <main className=\"flex-1 overflow-y-auto p-0 lg:p-4\">{children}</main>\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}